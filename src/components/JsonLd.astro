---
import { siteConfig } from '../data/site';

interface Props {
  type: 'local-business' | 'service' | 'faq';
}

const { type } = Astro.props;

const getStructuredData = () => {
  if (type === 'local-business') {
    return {
      '@context': 'https://schema.org',
      '@type': 'LocalBusiness',
      '@id': siteConfig.siteUrl,
      name: siteConfig.brandName,
      description: siteConfig.description,
      url: siteConfig.siteUrl,
      telephone: siteConfig.phone,
      email: siteConfig.email,
      address: {
        '@type': 'PostalAddress',
        streetAddress: siteConfig.address,
        addressLocality: siteConfig.city,
        addressRegion: siteConfig.state,
        postalCode: siteConfig.zip,
        addressCountry: 'US'
      },
      openingHoursSpecification: [
        {
          '@type': 'OpeningHoursSpecification',
          dayOfWeek: ['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday'],
          opens: '08:00',
          closes: '18:00'
        },
        {
          '@type': 'OpeningHoursSpecification',
          dayOfWeek: 'Saturday',
          opens: '09:00',
          closes: '15:00'
        }
      ],
      priceRange: '$$',
      sameAs: siteConfig.socials.map(s => s.url)
    };
  }

  if (type === 'service') {
    return {
      '@context': 'https://schema.org',
      '@type': 'Service',
      serviceType: 'Hydrographics Water Transfer Printing',
      provider: {
        '@type': 'LocalBusiness',
        name: siteConfig.brandName,
        url: siteConfig.siteUrl,
        telephone: siteConfig.phone,
        address: {
          '@type': 'PostalAddress',
          addressLocality: siteConfig.city,
          addressRegion: siteConfig.state,
          addressCountry: 'US'
        }
      },
      areaServed: {
        '@type': 'State',
        name: 'Texas'
      },
      hasOfferCatalog: {
        '@type': 'OfferCatalog',
        name: 'Hydrographics Services',
        itemListElement: siteConfig.services.map(service => ({
          '@type': 'Offer',
          itemOffered: {
            '@type': 'Service',
            name: service.name,
            description: service.description
          }
        }))
      }
    };
  }

  if (type === 'faq') {
    return {
      '@context': 'https://schema.org',
      '@type': 'FAQPage',
      mainEntity: siteConfig.faqs.map(faq => ({
        '@type': 'Question',
        name: faq.question,
        acceptedAnswer: {
          '@type': 'Answer',
          text: faq.answer
        }
      }))
    };
  }
};

const structuredData = getStructuredData();
---

<script type="application/ld+json" set:html={JSON.stringify(structuredData)} />
