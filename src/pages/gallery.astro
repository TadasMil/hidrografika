---
import Layout from '../layouts/Layout.astro';
import Hero from '../components/Hero.astro';

// Gallery images - in production, these would be actual image files
const galleryItems = [
  { id: 1, category: 'Automotive', title: 'Carbon Fiber Dashboard', image: 'https://placehold.co/600x400/1a1a1a/cyan?text=Carbon+Fiber+Dashboard' },
  { id: 2, category: 'Firearms', title: 'Digital Camo AR-15', image: 'https://placehold.co/600x400/1a1a1a/cyan?text=Digital+Camo+AR-15' },
  { id: 3, category: 'Sporting', title: 'Woodgrain ATV Panel', image: 'https://placehold.co/600x400/1a1a1a/cyan?text=Woodgrain+ATV' },
  { id: 4, category: 'Automotive', title: 'Skull Pattern Wheels', image: 'https://placehold.co/600x400/1a1a1a/cyan?text=Skull+Wheels' },
  { id: 5, category: 'Firearms', title: 'Kryptek Camo Rifle', image: 'https://placehold.co/600x400/1a1a1a/cyan?text=Kryptek+Rifle' },
  { id: 6, category: 'Industrial', title: 'Custom Logo Panel', image: 'https://placehold.co/600x400/1a1a1a/cyan?text=Custom+Logo' },
  { id: 7, category: 'Automotive', title: 'Engine Bay Components', image: 'https://placehold.co/600x400/1a1a1a/cyan?text=Engine+Bay' },
  { id: 8, category: 'Sporting', title: 'Realtree Camo Bow', image: 'https://placehold.co/600x400/1a1a1a/cyan?text=Realtree+Bow' },
  { id: 9, category: 'Automotive', title: 'Interior Trim Pieces', image: 'https://placehold.co/600x400/1a1a1a/cyan?text=Interior+Trim' }
];

const categories = ['All', 'Automotive', 'Firearms', 'Sporting', 'Industrial'];
---

<Layout
  title="Gallery"
  description="Browse our portfolio of hydrographics projects including automotive parts, firearms, sporting goods, and custom applications."
>
  <Hero
    title="Our Work"
    subtitle="Browse our portfolio of completed projects"
    ctaText={null}
    compact
  />

  <section class="py-16 bg-gray-950">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8">
      <!-- Category Filter -->
      <div class="flex flex-wrap justify-center gap-3 mb-12">
        {categories.map(category => (
          <button
            type="button"
            class="gallery-filter px-6 py-2 rounded-full bg-gray-800 text-gray-300 hover:bg-cyan-500 hover:text-white transition-all border border-gray-700 font-medium"
            data-category={category}
          >
            {category}
          </button>
        ))}
      </div>

      <!-- Gallery Grid -->
      <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
        {galleryItems.map(item => (
          <article
            class="gallery-item group relative overflow-hidden rounded-lg border border-gray-800 hover:border-cyan-500 transition-all bg-gray-900"
            data-category={item.category}
          >
            <div class="aspect-[4/3] overflow-hidden bg-gray-800">
              <img
                src={item.image}
                alt={item.title}
                class="w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"
                loading="lazy"
              />
            </div>
            <div class="p-4">
              <span class="text-xs font-semibold text-cyan-400 uppercase tracking-wider">
                {item.category}
              </span>
              <h3 class="text-lg font-bold text-white mt-1">{item.title}</h3>
            </div>
          </article>
        ))}
      </div>

      <!-- Empty State (hidden by default) -->
      <div id="empty-state" class="hidden text-center py-12">
        <p class="text-gray-500 text-lg">No projects found in this category.</p>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="py-16 bg-gray-900">
    <div class="container mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <h2 class="text-3xl font-bold text-white mb-4">Ready to Create Your Custom Finish?</h2>
      <p class="text-xl text-gray-400 mb-8 max-w-2xl mx-auto">
        Let's discuss your project and bring your vision to life.
      </p>
      <a
        href="/contact"
        class="inline-flex items-center px-8 py-4 bg-cyan-500 text-white font-semibold rounded-lg hover:bg-cyan-600 transition-all shadow-lg shadow-cyan-500/30"
      >
        Start Your Project
      </a>
    </div>
  </section>
</Layout>

<script>
  document.addEventListener('astro:page-load', () => {
    const filters = document.querySelectorAll('.gallery-filter');
    const items = document.querySelectorAll('.gallery-item');
    const emptyState = document.getElementById('empty-state');

    filters.forEach(filter => {
      filter.addEventListener('click', () => {
        const category = filter.getAttribute('data-category');

        // Update active state
        filters.forEach(f => {
          f.classList.remove('bg-cyan-500', 'text-white');
          f.classList.add('bg-gray-800', 'text-gray-300');
        });
        filter.classList.remove('bg-gray-800', 'text-gray-300');
        filter.classList.add('bg-cyan-500', 'text-white');

        // Filter items
        let visibleCount = 0;
        items.forEach(item => {
          const itemCategory = item.getAttribute('data-category');
          if (category === 'All' || itemCategory === category) {
            item.classList.remove('hidden');
            visibleCount++;
          } else {
            item.classList.add('hidden');
          }
        });

        // Show/hide empty state
        if (emptyState) {
          if (visibleCount === 0) {
            emptyState.classList.remove('hidden');
          } else {
            emptyState.classList.add('hidden');
          }
        }
      });
    });

    // Set initial active state
    const firstFilter = filters[0];
    if (firstFilter) {
      firstFilter.classList.remove('bg-gray-800', 'text-gray-300');
      firstFilter.classList.add('bg-cyan-500', 'text-white');
    }
  });
</script>
